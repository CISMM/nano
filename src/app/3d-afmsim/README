Gokul Varadhan
varadhan@cs.unc.edu
May 2001

This is a 3D AFM simulator based on Warren Robinett's CNT simulator (robinett@cs.unc.edu)

Compiling

	- Weird step ! Create a file called depend (could be empty)	
	- make clean
	- make dep
	- make

Running the program

	./sim [-p filename unit [-w]] for proteins
        ./sim [-t filename scale] for triangulated models
        ./sim [-d dna-filename]


1. To simply run the simulator run

./sim

2. To get the AFM of a protein

./sim -p <protein filename> unit

unit is a number  = (Unit assumed in the file)/(1 nm) e.g 0.1 for Angstrom\n

Example : ./run -p lac.data 1

Read pdb/README on how to generate a '.data' file from a PDB file.


3. To get AFM of a triangular model run

./sim -t filename scale

Example :

./sim -t teddy.obj 10

scale scales the values in the given input file

4. To run DNA simulator

./sim -d dna-filename

Example :

./sim -d dna.dat

Format for the dna file
-----------------------

	Number of segments in the DNA
	Length of DNA
	Position of site 1
	Position of site 2
	Tangent at site 1
	Tangent at site 2

Example (see file dna.dat)

	30
	160
	20 10 10
	110 40 50
	-100 100 0
	-50 -100 0


Information

. This code uses display lists. They are turned on by default. To turn them off, change the #define DISP_LIST in defns.h and recompile.

. For objects totally composed of spheres, use the type SPHERE instead of NTUBE. This enable a number of optimizations. However you cannot change the length of an object declared as a SPHERE.


Key and Mouse bindings :

. Left mouse click on an object selects it. The object's color turns red
. Left mouse when clicked and moved while the key remains pressed moves the object along XY plane.
. Right mouse click works on triangles. It is used to select a side of a triangle.

The following keys produce global changes (not object specific)

. 'q' - exit
. 'o' - draw objects. By default, objects are not drawn, only the AFM is.
. 'w' - write the AFM to a file.
. 'n' - add a new nano tube
. 's' - add a sphere
. 't' - add a new triangle
. 'p' - toggle the tip model, the default is the inverted ConeSphere tip model
. 'r', 'R' - change the tip radius
. 'a', 'A' - change the tip angle in case of inv ConeSphere tip.
. 'i' - toggles between "no scan" to "semi solid scan" to "solid scan".
. 'u' - to toggle to uncertainty mode

The following perform object specific actions.

. DELETE - deleted that object
. 'd', 'D' - change diam
. 'l', 'L' - change length
. '+', '-' - change z
. 'x', 'X' - rotate about X
. 'y', 'Y' - rotate about X
. 'z', 'Z' - rotate about X

The following will have effect only on nano tubes

. 'e', 'E' - change roll
. 'f', 'F' - change yaw
. 'g', 'g' - change pitch


Important Note :
----------------

We had said earlier, right click selects one side of a triangle. But since a side of a triangle is modelled as a nanotube, you can perform all the nanotube operations on that side.




