2000-09-27  Tom Hudson  <hudson@cs.unc.edu>

	* microscape.c (setupSynchronization) : add long comment about
        the bugs we've had recently
	* tcl_tk.c (handle_surface_change) : remove dead code
	(init_Tk_control_panels) : same

2000-09-27  Adam Seeger  <seeger@cs.unc.edu>

	* microscape.c (main) : moved call to init_Tk_control_panels to an
	earlier point so that interpreter exists when some Tclvars are
	initialized in nmb_Dataset - this didn't fix the bug I was tracking
	down but it seems to make Tclvar_list_of_strings::initializeTcl 
	happier (I don't see how else it could get the callback set up for
	changes from tcl although we don't expect such a change for most 
	if not all of these types of variables) and doesn't seem to break 
 	anything
	* tcl_tk.hc (init_Tk_control_panels) : split this into two functions
	called init_Tk_control_panels and init_Tk_variables - the second one
	probably contains some obsolete variables (this change was needed
	to allow the interpreter to be created earlier in the startup
	sequence)

2000-09-26  Tom Hudson  <hudson@cs.unc.edu>

	* CollaborationManager.C : include nmb_Debug.h
        (getPeer) : replace fprintf() with collabVerbose()
        (getPeerReplay) : same
        (getServer) : same
        (setLogging) : same
        (setPeerName) : same
        (sendOurTimer) : same
        (respondToPeerTimer) : same
        (handle_peerTimer) : same
        (handle_timerResponse) : same
	* microscape.c : handle -cverbosity command line argument

	* interaction.c : add fprintf() during feelAhead
	* microscopeHandlers.C : same


2000-09-21  Tom Hudson  <hudson@cs.unc.edu>

        * microscape.c (local_time_sync) : must return a value

2000-09-21  Tom Hudson  <hudson@cs.unc.edu>

        * tcl_tk.c (init_Tk_control_panels) : take collaborationTimer as
        argument and pass to Tclnet_init()

        * microscape.c (local_time_sync) : new function
        (handle_synchronize_timed_change) : call local_time_sync() (sometimes)
        (handle_copy_to_private) : call local_time_sync()
        (createNewMicroscope) : call linkMicroscopeToInterface()
        (main) : same;  handle & display timings

        * CollaborationManager.C : d_timer, d_myId_svr,
        d_myId_rem, d_timerSN_type, d_timerSNreply_type : new data members
        (mainloop) : call sendOurTimer() and respondToPeerTimer()
        (initialize) : set up VRPN ids, handlers
        (setPeerName) : same
        (setTimer) : new function
        (sendOurTimer) : same
        (respondToPeerTimer) : same
        (handle_peerTimer) : same
        (handle_timerResponse) : same

        * interaction.c : clean up old code & comments
        (FDOnOffMonitor) : new class
        (setupHaptics) : use objects on haptic_manager instead of
        local static objects;  handle feelahead.
        (doLine) : use FDOnOffMonitor
        (doFeelLive) : same
        (doFeelFromGrid) : same;  call setupHaptics()
        (setupSweepIcon) : new function
        (linkMicroscopeToInterface) : same
        (initializeInteraction) : create objects on haptic_manager

2000-09-14  Kwan Torrich Skinner <skinner@cs.unc.edu>

	* nM_coord_change.C (mainloop) : made a call to server_mainloop, killed
	a compiler warning.

2000-09-14  Adam Seeger  <seeger@cs.unc.edu>

	* microscape.c : textureConversionMapName initialized to "none"
	instead of "CUSTOM"

2000-09-13  Kwan Torrich Skinner  <skinner@cs.unc.edu>
	* microscape.c (initialize_environment) : replaced instances of
	ccs0 with handCoordinateServer0 and instances of cmode0 with
	userModeServer0.
	* CollaborationManager.C (setPeerName) : same.

2000-09-12  Kwan Torrich Skinner  <skinner@cs.unc.edu>
	* microscape.c (main): moved gethostname call and corresponding
	neighboring code to be executed before the dataset is initialized to
	ensure the correct hostname is assigned to d_hostname in nmb_Dataset.

2000-09-08  Adam Seeger  <seeger@cs.unc.edu>

	* microscape.c (handle_openStreamFilename_change): took out
	delete of microscope connection 
	(the problem was in not unregistering vrpn handlers with
	references to the old microscope)

2000-09-07  Adam Seeger  <seeger@cs.unc.edu>
        
        * microscape.c (handle_openStreamFilename_change) : added delete
	of microscope connection before getting a new one - this somehow
	fixes a crash on the pc when opening the same file more than once
        * microscopeHandlers.C (handle_z_scale_change): this now updates
        nmb_Decoration so it can scale the modify markers to match the plane
        * interaction.c (handle_commit_cancel): allows cancelling of 
        planned line modification in USER_GRAB_MODE, USER_SCALE_UP_MODE,
        USER_SCALE_DOWN_MODE, USER_LIGHT_MODE, and USER_MEASURE_MODE since
        I think it would make things more convenient and I don't see any harm
        in it (an alternative could be to disable the cancel button if
        you aren't in touch before modify or select mode)

2000-09-04  Adam Seeger  <seeger@cs.unc.edu>

	* microscopeHandlers.C (handle_doRelaxComp_change): Changed to make
	this consistent with how things are done in nmm_MicroscopeRemote.C

2000-09-01  Adam Seeger  <seeger@cs.unc.edu>

	* microscape.c (main) : added check of 
	microscope_connection->doing_okay() to fix problem of trying to open
	an invalid file on the command line

2000-08-31  Kwan Torrich Skinner  <skinner@cs.unc.edu>

        * all : merged merge-2000-summer-thirdtech code with trunk.

2000-08-30  Adam Seeger  <seeger@cs.unc.edu>

        * Makefile: took out RhinoIO for VC compile
        * microscape.c (MicroscapeInitializationState constructor): adds
        initialization for NIC_IP and logTimestamp
        * microscape.[ch], minit.c: fixed confusion over name of 
        function get_Plane_Extents changing to get_Plane_Centers

2000-08-27  Kwan Torrich Skinner  <skinner@cs.unc.edu>

        * microscape.c : converted procProgNames from nmb_ListOfStrings to 
	Tclvar_list_of_strings.

2000-08-17  Adam Seeger  <seeger@cs.unc.edu>

        * microscape.c (handle_texture_dataset_change): sets slider limits
		a little differently (using minNonZeroValue instead of minValue)

2000-08-16  Tom Hudson  <hudson@cs.unc.edu>

        * microscape.c (main):  added call to
        microscope->EnableUpdatableQueue(VRPN_TRUE).
        * interaction.c (drawLine):  new function.  Added calls to
        microscope->EnableUpdatableQueue().
        (drawLineStep):  same.
        (handle_commit_change):  factored out large case and loop into
        drawLine() and drawLineStep().

2000-08-15  Jeffrey Juliano  <juliano@cs.unc.edu>

	* Makefile.additional-targets: New file.
	* Makefile: Post-include Makefile.additional-targets.

2000-08-14  Jeffrey Juliano  <juliano@cs.unc.edu>

	* microscape.c (main): Add call to ios::sync_with_stdio().
	* microscape.c (setupCallbacks): Pass correct dataset ptr.

2000-08-11  Kwan Torrich Skinner  <skinner@cs.unc.edu>

	* all: Merge thirdtech_branch code to trunk.

2000-08-10  Jeffrey Juliano  <juliano@cs.unc.edu>

	* ChangeLog: New File.
	* microscape.c (find_center_xforms): Clean up.

2000-08-09  Jeffrey Juliano  <juliano@cs.unc.edu>

	* microscape.c (Usage): Change linkage to internal (static).
	(handleTermInput): Same.
	(handleMouseEvents): Same.
	(get_Plane_Centers): Same.
	(find_center_xforms): Same.
	(vec_cmp): Same.
	(guessAdhesionNames): Same.

2000-08-06  Jeffrey Juliano  <juliano@cs.unc.edu>

	* microscape.c: tell emacs to use c++-mode

