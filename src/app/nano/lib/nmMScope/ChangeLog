2000-10-24  Adam Seeger  <seeger@cs.unc.edu>

	* nmm_MicroscopeRemote.C : changes having to do with degree/radian
	confusion - these fixes come from the thirdtech_branch

2000-10-24  Adam Seeger  <seeger@cs.unc.edu>

	* nmm_MicroscopeRemote.C (rotateScanCoords) : made this convert
	the argument from degrees to radians before using sinf and cosf on it

2000-10-12  Adam Seeger  <seeger@cs.unc.edu>

	* nmm_MicroscopeRemote.C (handle_WindowLineData) : put in error
	message and automatic quit if the positions of the data
	don't fit in the grid size (this should only be due to 
	programmer error but its nice to catch it because there
	aren't any other checks for this before writing data into the grid)

2000-10-05  Tom Hudson  <hudson@cs.unc.edu>

	* nmm_Microscope.C (encode_EndFeelTo) : add parameters
        for entire (current) definition of nmm_Sample
	(decode_EndFeelTo) : same
	* AFMState.h : add data member receivedAlgorithm to AFMDataset
	* nmm_MicroscopeRemote.C (Shutdown) : remove function
        (RcvStdDevParameters) : same
        (handle_StdDevParameters) : same
	(SetSamples) : same
	(destructor) : remove dead code
	(Initialize) : same
        (RcvInSpectroscopyMode) : same
	(handle_EndFeelTo) : use new parameters & copy into
        AFMDataset::receivedAlgorithm
	(SampleMode) : new function

2000-10-03  Tom Hudson  <hudson@cs.unc.edu>

	* AFMState.h : chang Point_lists members of AFMDataset from
        pointers to instances
	* AFMState.C : pass receivedPointList to point_channels constructor
        * nmm_MicroscopeRemote.C (swapPointLists) : change pointers to
        instances from AFMDataset

2000-10-03  Tom Hudson  <hudson@cs.unc.edu>

	* nmm_Microscope.C (encode_FeelTo) : add parameters
        (decode_FeelTo) : same

	* nmm_Sample.C : get rid of obsolete class
	* nmm_Sample.h : replac obsolete class with simple struct
	* nmm_MicroscopeRemote.C (TakeSampleSet) : use new definition
        of nmm_Sample and extra parameters for FeelTo
        (RcvEndFeelTo) : fix function call - was decode_FeelTo,
        should be decode_EndFeelTo

2000-09-28  Tom Hudson  <hudson@cs.unc.edu>

	* active_set.C (Channel_selector constructor) :  Uncomment
        reference to change_from_microscope.
        (Channel_selector::Clear_channels) :  same
        (Scan_channel_selector constructor) :  same
        (Scan_channel_selector::Update_microscope) :  same
        (Point_channel_selector::Update_microscope) :  same
        (ForceCurve_channel_selector::Update_microscope) :  same
        (Channel_selector::Clear_channels) :  same
	* nmm_MicroscopeRemote.C (RcvReportScanAngle) :  Add
        idempotency check.
        (RcvScanning) :  same


2000-09-26  Tom Hudson  <hudson@cs.unc.edu>

	* nmm_MicroscopeRemote.C (handle_EndFeelTo) : Add fprintf()

2000-09-22  Adam Seeger  <seeger@cs.unc.edu>

        * nmm_MicroscopeTranslator.C (translate_packet) : 
        disables translation of SPM_SERVER_PACKET_TIMESTAMP but still uses
	this to update the stream time

2000-09-21  Adam Seeger  <seeger@cs.unc.edu>

	* nmm_MicroscopeTranslator.hC: new files
	I moved a bunch of code from streamToVrpn.C into here so that it will
	be easier to maintain. This also fixes the bug with the time except
	at the very end of the stream file where system messages screw
	things up again (time goes back to the elapsed time that it took to
	do the translation at the very end of the stream file)

2000-09-21  Tom Hudson  <hudson@cs.unc.edu>

        * splat.c (mkSplat) : changed return value

2000-09-20  Tom Hudson  <hudson@cs.unc.edu>

        * nmm_Microscope.h:  added data members d_FeelTo_type,
        d_BeginFeelTo_type, d_EndFeelTo_type.
        * nmm_Microscope.C (constructor) :  set value of new data members.
        (encode_FeelTo) :  new function.
        (decode_FeelTo) :  same.
        (encode_BeginFeelTo) :  same.
        (decode_BeginFeelTo) :  same.
        (encode_EndFeelTo) :  same.
        (decode_EndFeelTo) :  same.
        * nmm_Microscope_Remote.h :  added data member d_feeltoHandlers,
        new nested type feeltoHandlerEntry.
        * nmm_Microscope_Remote.C (constructor) :  register handle_BeginFeelTo,
        handle_EndFeelTo.
        (handle_BeginFeelTo) :  new function.
        (handle_EndFeelTo) :  same.
        (registerFeeltoHandler) :  same.
        (unregisterFeeltoHandler) :  same.
        (swapPointList) :  same.
        (doFeeltoCallbacks) :  same.
        (TakeSampleSet) :  tore out dependence on
        nmm_Sample/SetSampleAlgorithm();  the proper place for that function
        is in the topo software, much as we hate to put it there.  It now sends
        a FeelTo message.
        * nmm_Types.h : new "tool" FEELAHEAD 
        * splat.c (mkSplat) : added check for error

2000-09-14  Adam Seeger  <seeger@cs.unc.edu>

	* nmm_MicroscopeRemote.C : took out extern reference to 
	vrpn_Ohmmeter_Remote since this prevented me from compiling the
	ohmmeter client. This stuff really needs to be cleaned up but there
	is no time at the moment

2000-09-08  Adam Seeger  <seeger@cs.unc.edu>

	* nmm_MicroscopeRemote.C (~nmm_MicroscopeRemote) : unregisters
	all vrpn_Connection handlers now (should eventually be replaced by
	making this class inherit from vrpn_BaseClass)

2000-09-07  Adam Seeger  <seeger@cs.unc.edu>

        * nmm_MicroscopeRemote.C (DisplayModResult) : Changed how this sets
        top and bottom. unscaled value is passed instead of scaled value so
        that if user changes scale later the new scale can be applied to the
        markers by setting the scale in nmb_Decoration
        * nmm_MicroscopeRemote.C (RcvResultData) : Added a check of the
        variable state.modify.slow_line_committed before accessing 
        state.modify.slow_line_prevPt/slow_line_currPt because unless its
        true these may be uninitialized (caused a crash on PC when using
        slow line 3D)
        * nmm_MicroscopeRemote.C (handle_barrierSynch) : made it so this
        function doesn't do anything if we're reading from a file since it
        only does stuff that affects a live microscope (was printing out an
        error message because we weren't in slow line 3D mode)
        * AFMState.C (constructor) : added some missing initialization for
        slow line variables

2000-09-05  Adam Seeger  <seeger@cs.unc.edu>
	
	* nmm_RelaxComp.[hC] (updateMicroscope) : added this new function
	so we can send the relax setting message without having access to
	private functions in nmm_Microscope_Remote 
	(needed in microscopeHandlers.C)

2000-09-04  Adam Seeger  <seeger@cs.unc.edu>

	* nmm_RelaxComp.C (enable, disable) : These no longer send messages
	to the microscope but do set the state of nmm_RelaxComp
	* nmm_RelaxComp.C (set_ignore_time_ms, set_separation_time_ms) :
	These no longer check to see if relaxation comp. is enabled before
	letting you set the values (they set the values no matter what now)
	* nmm_MicroscopeRemote.C (handle_GotMicroscopeControl) : 
	changed this so in deciding whether or not
  	to enable relaxation compensation, it looks at state.doRelaxComp instead
  	d_relax_comp.is_enabled()
	* nmm_MicroscopeRemote.C (RcvRelaxSet) :
	This now checks to see if setting was (0,0) to decide if relaxation
	has been turned on or off (this was the assumption before but 
	relaxation set messages were not being used for confirmation)

2000-08-31  Kwan Torrich Skinner  <skinner@cs.unc.edu>

        * all : merged merge-2000-summer-thirdtech code with trunk.

2000-08-30  Adam Seeger  <seeger@cs.unc.edu>

        * nmm_MicroscopeRemote.C (RcvWindowLineData) : replaced cast of 
        d_dataset->heightPlaneName to char * with 
        d_dataset->heightPlaneName->string()

2000-08-16  Tom Hudson  <hudson@cs.unc.edu>

        * nmm_Microscope.h:  added data member d_EnableUpdatableQueue_type.
        (encode_EnableUpdatableQueue) :  new function.
        (decode_EnableUpdatableQueue) :  same.
        * nmm_Microscope.C (constructor) :  set value of
        d_EnableUpdatableQueue_type.
        (encode_EnableUpdatableQueue) :  new function.
        (decode_EnableUpdatableQueue) :  same.
        * nmm_MicroscopeRemote.h (EnableUpdatableQueue) :  new function.
        * nmm_MicroscopeRemote.C :  deleted some obsolete functions that had
        long been commented-out.
        (EnableUpdatableQueue) :  new function.

2000-08-13  Jeffrey Juliano  <juliano@cs.unc.edu>

	* active_set.C: Pull Kwan's merged source to the trunk.  He had
	committed to a branch because of a sticky tag.
	* active_set.h: Same.

2000-08-11  Kwan Torrich Skinner  <skinner@cs.unc.edu>

	* all: Merge thirdtech_branch code to trunk.

