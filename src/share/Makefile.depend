include .depend

.PHONY: depend
depend:
        -$(MVF) .depend .depend-old
        $(MAKE) .depend
.depend:
        @echo ----------------------------------------------------------------
        @echo -- Making dependency file.  If you add files to the makefile,
        @echo -- or add/remove includes from a .h or .C file, then you should
        @echo -- remake the dependency file by typing \"$(MAKE) depend\"
        @echo ----------------------------------------------------------------
ifeq ($(HW_OS),hp700_hpux10)
        @echo -- $(HW_OS): Using g++ since HP CC does not understand -M
        @echo -- if this causes an error, then delete .depend and type
        @echo -- \"touch .depend\" to create an empty file
        @echo ----------------------------------------------------------------
        $(SHELL) -ec 'g++ -MM $(CFLAGS) $(LIB_FILES) \
            | sed '\''s/\(.*\.o[ ]*:[ ]*\)/$(OBJECT_DIR)\/\1/g'\'' > .depend'
else
  ifeq ($(HW_OS),hp_flow_aCC)
        @echo -- $(HW_OS): Using g++ since HP aCC does not understand -M
        @echo -- if this causes an error, then delete .depend and type
        @echo -- \"touch .depend\" to create an empty file
        @echo ----------------------------------------------------------------
        $(SHELL) -ec 'g++ -MM $(CFLAGS) $(LIB_FILES) \
            | sed '\''s/\(.*\.o[ ]*:[ ]*\)/$(OBJECT_DIR)\/\1/g'\'' > .depend'
  else
        $(SHELL) -ec '$(CC) -M $(CFLAGS) $(LIB_FILES) \
            | sed '\''s/\(.*\.o[ ]*:[ ]*\)/$(OBJECT_DIR)\/\1/g'\'' > .depend'
  endif
endif
        @echo ----------------------------------------------------------------
